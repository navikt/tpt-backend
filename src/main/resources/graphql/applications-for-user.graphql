query ApplicationsForUser($email: String!, $appFirst: Int = 100, $appAfter: Cursor, $teamsFirst: Int= 10, $teamsAfter: Cursor) {
  user(email: $email) {
    teams(first: $teamsFirst, after: $teamsAfter) {
      pageInfo {
        hasNextPage
        endCursor
      }
      nodes {
        team {
          slug
          applications(first: $appFirst, after: $appAfter) {
            pageInfo {
              hasNextPage
              endCursor
            }
            nodes {
              name
              ingresses {
                type
              }
              deployments(first: 1) {
                nodes {
                  environmentName
                }
              }
            }
          }
        }
      }
    }
  }
}